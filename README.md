# Анализ освещённости и времени суток по изображению

## Описание

Проект реализует комплексный анализ яркости изображений для оценки освещённости сцены и определения предполагаемого времени суток. Применяется комбинированный подход на основе трёх независимых методов:

1. **Глобальный статистический анализ яркости (Y-канал)**
   Производится оценка яркости изображения в целом: рассчитываются среднее, медиана, стандартное отклонение, коэффициент вариации и процент пикселей в критических зонах (очень тёмные/яркие). Дополнительно анализируется цветовой баланс по соотношению каналов R и B, что позволяет учитывать "теплоту" освещения. На основе этих данных определяется базовое предположение о времени суток и уровне освещения.
   
2. **Локальный блочный анализ**
   Изображение разбивается на блоки, в каждом из которых анализируется локальная яркость. Это позволяет выявлять неоднородности в освещении, наличие теней, фонарей или участков с резкими перепадами яркости. Такой подход эффективен для оценки реального восприятия сцены, особенно в условиях контрастного освещения (например, ночью при фонарях или в сумерках).
   
3. **Анализ по цветовым моделям**
   Оценивает освещённость с использованием цветовых пространств HSV и LAB. Используются каналы V (яркость) и L (светлота) из соответствующих цветовых моделей. На основании их средних значений классифицируется уровень освещённости по шкале от "очень темно" до "очень светло". Это позволяет учитывать особенности восприятия яркости в разных цветовых контекстах.

Результаты каждого метода агрегируются путём голосования, это позволяет повысить устойчивость к особенностям отдельных изображений (контраст, тени, неравномерное освещение и т.д.). При наличии признаков высокой контрастности (например, выявленных теней или сильного разброса яркости), классификация может быть скорректирована.

Также предусмотрена возможность пакетной обработки изображений в каталоге, с подсчётом статистики по каждому классу (время суток, тип освещённости)

## Установка

Требуется Python 3.7+ и следующие зависимости:
```bash
pip install opencv-python numpy
```

## Запуск

1. Анализ директории с изображениями (больше фотографий [здесь](https://disk.yandex.ru/d/1hGS1x2rsTQKYw)):
```bash
python main.py resources/1
```
По умолчанию анализируются изображения из директории ./resources/1. 

Поддерживаемые форматы: .jpg, .jpeg, .png.

2. Анализ одного изображения: раскомментировать соответствующий блок в конце файла main.py
